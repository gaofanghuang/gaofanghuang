{"id":"1545189205461","title":"UUID-生成设备唯一识别码","tags":["uuid","唯一识别码","微信小程序"],"content":"UUID是由一组32个16进制数字所构成，因此UUID理论上的总数为：3.4*10^38，也就是说若每纳秒产生1兆个uuid，需要花100亿年才能用完所有的uuid，所以它是唯一的，不必担心重复。 \n\n## es6生成uuid的方法\n\n```javascript\ngetUUID() {\n  let d = new Date().getTime();\n  if (window.performance && typeof window.performance.now === \"function\") {\n     d += performance.now(); //use high-precision timer if available\n  }\n  let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n     let r = (d + Math.random() * 16) % 16 | 0;\n     d = Math.floor(d / 16);\n       return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n     });\n    return uuid;\n}\n```\n\n## 微信小程序生成uuid的方法\n\n`performance.now` 这个方法微信小程序中不兼容（微信小游戏则可以使用），因此只能另外找方法代替。\n\n```javascript\ngetUUID() {\n let d = new Date().getTime();\n      d += Math.random()*1000000;\n      let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        let r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n      });\n      return uuid;\n}\n```\n\n>扩展阅读：\n\n1. [什么是UUID](https://blog.csdn.net/qq592304796/article/details/52497940)","lasttime":1546853018999}