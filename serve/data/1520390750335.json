{"id":"1520390750335","title":"App上传/更新版本到 ios store 流程步骤","tags":["步骤","iOS","App"],"content":"## B2B app更新\n\n上传APP的地址: https://itunesconnect.apple.com/login\n\n苹果开发者中心: https://developer.apple.com/\n\n## app正式包更新\n\n1. 进入apicloud进行云编译，平台: ios、安卓(勾选使用升级环境编译)；\n\n2. 类型: 正式版;\n\n3. 调试模式：禁用；\n\n4. 全局加密：启用；\n\n5. 渠道打包：否；\n\n6. iso版本和android版本的数值加1(查看正式包的编译记录进行版本号确认)；\n\n7. 然后点云编译。\n\n8. 编译后分别下载ios和安卓包，其中安卓包上传到服务器,修改google play等信息。\n\n ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/53751190.jpg)\n\n ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/44184281.jpg)\n\n## 更新ios包的后续步骤\n\n- 在苹果机打开xcode工具,选择 xcode->open developer tool->application loader；\n\n  选择\"交付您的应用\"并双击，找到下载的ios包，并上传。 (如果等待时间过长或失败，重新执行此步骤).约半小时后执行后面步骤，主要是在构建版本时需要选择此步骤添加的ios包.\n\n- 上传完毕，进入上传app地址,点击\"我的app\" \n![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/95619565.jpg)\n\n- 进入\"我的app\"页面，选择要更新的app \n![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/11302554.jpg)\n\n- 进入app信息页，点版本或平台，选择ios。\n ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/94581648.jpg)\n\n- 在弹出的页面填写版本号(和apicloud中ios的最新打包的版本号数码一致，但格式有点不同)，并创建\n> 此处的版本号和apicloud中的ios版本号格式不同，如这里的2.5对应apicloud中的ios 2.0.5。\n \n![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/8148369.jpg)\n\n- 填写版本信息的新增内容,如增加的功能，修复的bug等\n ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/78848476.jpg)\n\n- 选择屏幕快照\n> 新上传的图片必须和对应尺寸一致,这里选5.5英寸。因为前面已有上传图片，这里只需选择尺寸即可。\n\n![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/63414848.jpg)\n\n- 宣传文本(可不填)，描述，关键词等\n\n ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/93173385.jpg)\n\n- iMessage App和Apple Watch，因没有，略过\n\n- 构建版本,点击\"+\"号\n\n ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/73499561.jpg)\n\n- 选择需要添加的版本(如没显示，则半小时后查看，因为xcode上传后不一定马上显示)\n![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/89563686.jpg)\n\n- App综合信息\n>app store图标：更换图标必须为1024*1024尺寸的直角图标\n\n![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/82160790.jpg)\n\n- App审核信息(主要确认密码是否有改动，填写联系信息)\n ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/7549599.jpg)\n\n- 后面信息\n  版本发布(保留默认选中的)\n  自动更新的分阶段发布(保留默认选中的)\n  重设iOS平均评分(比较多差评可重设)\n\n- 点页面右上方的\"存储\"，再确认上面的信息无误后，再点\"提交以供审核\"\n![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/974458.jpg)\n\n- 在弹出的新页面的广告标识符，选择\"是\"\n![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/38578572.jpg)\n\n- 在展开的列表项中，全部勾选后，点提交。\n![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/65113017.jpg)\n\n- 进入审核等待，留意审核结果。如不成功，重新提交审核。\n![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/82013908.jpg)\n\n- 审核成功后，登入后台修改app的当前版本号\n\n\n## 证书创建\n\n1)生成csr文件\n\n  (如果是更新，则先删除钥匙串中存在的同一个项目的证书文件)\n\n  - 打开钥匙串工具\n\n  - 钥匙串访问--证书助理--从证书颁发机构请求证书…\n\n   ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/72141802.jpg)\n\n  - 输入email,名称和选择存储到磁盘\n\n  ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/76913570.jpg)\n\n  - 选择存储位置后，完成\n\n  ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/44416399.jpg)\n\n2)申请证书\n\n  - 进入开发者中心的account页，点击\"Certificates, IDs & Profiles\"\n\n  ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/56781009.jpg)\n\n  - 点Certificates的右上方+号\n  ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/61768775.jpg)\n\n  - 选择Production的App Store and Ad Hoc证书类型,点continue,continue\n  ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/97174607.jpg)\n\n  - choose file选择csr文件\n ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/36877139.jpg)\n  \n  - 生成证书文件(.cer格式)，下载cer文件并点done\n ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/68350388.jpg)\n\n  - 找到下载的.cer文件并双击，会自动导入到钥匙串工具中\n\t \n\n  - 选中证书文件，右键单击，选择导出\n![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/40393368.jpg)\n\n  - 输入导出文件名(格式选.p12)和存储位置\n   ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/36703715.jpg)\n  \n  - 设置证书密码并记下该证书密码\n  ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/24661081.jpg)\n\n  - 完成证书和p12文件的生成\n\n\n3)添加调试设备\n  - 点Devices页面右上方的+号，输入设备名和udid(通过itunes等工具连接手机获取)\n ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/62565060.jpg)\n\n  - 填写后续内容到完成即可\n\n4)生成Provisioning Profiles文件\n  - 点Provisioning Profiles,选择选择 distribution 中的ad hoc\n  ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/48162160.jpg)\n  \n  - 选择app id\n  ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/44162335.jpg)\n\n  - 选择证书\n  ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/45553014.jpg)\n\n  - 选择设备\n  ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/77499066.jpg)\n  \n  - 输入profile name\n  ![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/6317402.jpg)\n\n  - 完成，下载pp文件(mobileprovision)\n\n5)上传证书\n>在苹果机操作，不然编译会失败\n\n登陆apicloud，选择\"证书\",分别上传ios证书文件(p12和mobileprovision)，并输入证书密码，保存。(如果是更换证书，则先清除证书)\n![](http://oh8nyy0e4.bkt.clouddn.com/18-3-7/60864982.jpg)\n","lasttime":1546852440966}