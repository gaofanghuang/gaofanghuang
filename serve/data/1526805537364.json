{"id":"1526805537364","title":"正则表达式入门及常用规则","tags":["正则表达式","扫盲"],"content":"## 元字符\n\n1. **\\b** 是正则表达式规定的一个特殊代码，代表着单词的开头或结尾，也就是单词的分界处。虽然通常英文的单词是由空格，标点符号或者换行来分隔的，但是\\b并不匹配这些单词分隔字符中的任何一个，它只匹配一个位置。\n\n2. **.** 匹配除了换xx以外的任意字符。\n\n3. *指定前边的内容可以连续重复使用任意次以使整个表达式得到匹配\n\n4. .*连在一起就意味着任意数量的不包含换行的字符\n\n5. **\\d** 一位数字(0~9)\n\n6. **-** 只匹配它本身——连字符(减号/中横线)\n\n7. 0\\d{2}-\\d{8}, 意思是从零开始匹配2个数字加一个横杠再匹配8个数字，例如： 012-12345678\n\n8. **\\s** 匹配任意的空白符，包括空格，制表符(Tab)，换行符，中文全角空格等。\n\n9. **\\w** 匹配字母或数字或下划线或汉字等。\n\n10. ^匹配你要用来查找的字符串的开头，$匹配结尾。例如：验证一个6~12位的数字，规则是 ^\\d{6,12}$\n\n\n## 字符转义\n\n使用\\来取消元字符的特殊意义。例如 \\. 和 \\* ，查找 \\ 本身，用 \\ \\ 。\n\n## 重复\n\n| ----代码 ----| ----说明---- |\n| - | - |\n| * | 重复零次或更多次 |\n| - | 重复一次或更多次 |\n| ? | 重复零次或一次 |\n| {n} | 重复n次 |\n| {n,} | 重复n次或更多次 |\n| {n, m} | 重复n到m次 |\n\n## 字符类\n\n1. [aeiou]匹配任何一个英文元音字母，[.?!]匹配标点符号(.或?或!)\n\n2. [0-9]代表的含意与\\d就是完全一致的：一位数字；同理[a-z0-9A-Z_]也完全等同于\\w（如果只考虑英文的话）\n\n3. 例如： \\(?0\\d{2}[) -]?\\d{8}\n\n这个表达式可以匹配几种格式的电话号码，像(010)88886666，或022-22334455，或02912345678等。意思是：首先是一个转义字符\\(,它能出现0次或1次(?),然后是一个0，后面跟着2个数字(\\d{2})，然后是)或-或空格中的一个，它出现1次或不出现(?)，最后是8个数字(\\d{8})。\n\n## 分支条件\n\n用|把不同的规则分隔开，例如：0\\d{2}-\\d{8}|0\\d{3}-\\d{7}这个表达式能匹配两种以连字号分隔的电话号码：一种是三位区号，8位本地号(如010-12345678)，一种是4位区号，7位本地号(0376-2233445)。\n\n## 反义\n\n| 代码/语法 | 说明 |\n| - | - |\n| \\W | 匹配任意不是字母，数字，下划线，汉字的字符 |\n| \\S\t| 匹配任意不是空白符的字符 |\n| \\D\t| 匹配任意非数字的字符 |\n| \\B\t| 匹配不是单词开头或结束的位置 |\n| [^x] | 匹配除了x以外的任意字符 |\n| [^aeiou] | 匹配除了aeiou这几个字母以外的任意字符|\n| <a[^>]+> | 匹配用尖括号括起来的以a开头的字符串 |\n\n## 后向引用\n\n| 代码/语法 | 说明 |\n| - | - |\n| 捕获 | - |\n| (exp) | 匹配exp,并捕获文本到自动命名的组里 |\n| (?<name>exp)\t| 匹配exp,并捕获文本到名称为name的组里，也可以写成(?'name'exp) |\n| (?:exp) | 匹配exp,不捕获匹配的文本，也不给此分组分配组号 |\n| 零宽断言 | - |\n| (?=exp) | 匹配exp前面的位置 |\n| (?<=exp) | 匹配exp后面的位置 |\n| (?!exp) | 匹配后面跟的不是exp的位置 |\n| (?<!exp) | 匹配前面不是exp的位置 |\n| 注释 | - |\n| (?#comment) | 这种类型的分组不对正则表达式的处理产生任何影响，用于提供注释让人阅读 |\n\n## 常用正则表达式\n\n1. 校验密码强度\n\n  `^(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{4,20}$`\n\n2. 校验中文\n\n  `^[\\\\u4e00-\\\\u9fa5]{0,}$`\n\n3. 由数字、26个英文字母或下划线组成的字符串\n\n  `^\\\\w+$`\n\n4. 校验E-Mail 地址\n\n  ```javascript\n  [\\\\w!#$%&'*+/=?^_`{|}~-]+(?:\\\\.[\\\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\\\w](?:[\\\\w-]*[\\\\w])?\\\\.)+[\\\\w](?:[\\\\w-]*[\\\\w])?\n  ```\n\n5. 校验身份证号码\n\n  15位：\n\n  `^[1-9]\\\\d{7}((0\\\\d)|(1[0-2]))(([0|1|2]\\\\d)|3[0-1])\\\\d{3}$`\n\n  18位：\n\n  `^[1-9]\\\\d{5}[1-9]\\\\d{3}((0\\\\d)|(1[0-2]))(([0|1|2]\\\\d)|3[0-1])\\\\d{3}([0-9]|X)$`\n\n6. 校验日期\n\n  “yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。\n\n  `^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$`\n\n7. 校验金额, 精确到2位小数\n\n  `^[0-9]+(.[0-9]{2})?$`\n\n8. 校验手机号\n\n  国内 13、15、18开头的手机号\n\n  `^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\\\d{8}$`\n\n9. 提取URL链接\n\n  `^(f|ht){1}(tp|tps):\\\\/\\\\/([\\\\w-]+\\\\.)+[\\\\w-]+(\\\\/[\\\\w- ./?%&=]*)?`\n\n10. 文件路径及扩展名校验\n\n  `^([a-zA-Z]\\\\:|\\\\\\\\)\\\\\\\\([^\\\\\\\\]+\\\\\\\\)*[^\\\\/:*?\"<>|]+\\\\.txt(l)?$`\n\n11. 提取所有图片\n\n  `\\\\< *[img][^\\\\\\\\>]*[src] *= *[\\\\\"\\\\']{0,1}([^\\\\\"\\\\'\\\\ >]*)`\n\n12. 抽取注释\n\n  `<!--(.*?)-->`\n\n## 校验数字的表达式\n\n1.  数字：^[0-9]*$\n\n2.  n位的数字：^d{n}$\n\n3.  至少n位的数字：^d{n,}$\n\n4.  m-n位的数字：^d{m,n}$\n\n5.  零和非零开头的数字：^(0|[1-9][0-9]*)$\n\n6.  非零开头的最多带两位小数的数字：^([1-9][0-9]*)+(.[0-9]{1,2})?$\n\n7.  带1-2位小数的正数或负数：^(-)?d+(.d{1,2})?$\n\n8.  正数、负数、和小数：^(-|+)?d+(.d+)?$\n\n9. 有两位小数的正实数：^[0-9]+(.[0-9]{2})?$\n\n10.  有1~3位小数的正实数：^[0-9]+(.[0-9]{1,3})?$\n\n11.  非零的正整数：^[1-9]d*$ 或 ^([1-9][0-9]*){1,3}$ 或 ^+?[1-9][0-9]*$\n\n12.  非零的负整数：^-[1-9][]0-9\"*$ 或 ^-[1-9]d*$\n\n13.  非负整数：^d+$ 或 ^[1-9]d*|0$\n\n14.  非正整数：^-[1-9]d*|0$ 或 ^((-d+)|(0+))$\n\n15.  非负浮点数：^d+(.d+)?$ 或 ^[1-9]d*.d*|0.d*[1-9]d*|0?.0+|0$\n\n16.  非正浮点数：^((-d+(.d+)?)|(0+(.0+)?))$ 或 ^(-([1-9]d*.d*|0.d*[1-9]d*))|0?.0+|0$\n\n17.  正浮点数：^[1-9]d*.d*|0.d*[1-9]d*$ 或 ^(([0-9]+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*))$\n\n18. 负浮点数：^-([1-9]d*.d*|0.d*[1-9]d*)$ 或 ^(-(([0-9]+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*)))$\n\n19. 浮点数：^(-?d+)(.d+)?$ 或 ^-?([1-9]d*.d*|0.d*[1-9]d*|0?.0+|0)$\n\n## 校验字符的表达式\n\n1.  汉字：^[\\u4e00-\\u9fa5]{0,}$\n\n2. 英文和数字：^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$\n\n3. 长度为3-20的所有字符：^.{3,20}$\n\n4. 由26个英文字母组成的字符串：^[A-Za-z]+$\n\n5. 由26个大写英文字母组成的字符串：^[A-Z]+$\n\n6. 由26个小写英文字母组成的字符串：^[a-z]+$\n\n7. 由数字和26个英文字母组成的字符串：^[A-Za-z0-9]+$\n\n8. 由数字、26个英文字母或者下划线组成的字符串：^w+$ 或 ^w{3,20}$\n\n9. 中文、英文、数字包括下划线：^[\\u4E00-\\u9FA5A-Za-z0-9_]+$\n\n10. 中文、英文、数字但不包括下划线等符号：^[\\u4E00-\\u9FA5A-Za-z0-9]+$ 或 ^[\\u4E00-\\u9FA5A-Za-z0-9]{2,20}$\n\n11. 可以输入含有^%&',;=?$\"等字符：[^%&',;=?$\\x22]+\n\n12. 禁止输入含有~的字符：[^~\\x22]+\n\n## 特殊需求表达式\n\n1. Email地址：^w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*$\n\n2. 域名：[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.?\n\n3. InternetURL：[a-zA-z]+://[^s]* 或 ^http://([w-]+.)+[w-]+(/[w-./?%&=]*)?$\n\n4. 手机号码：^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])d{8}$\n\n5. 电话号码(\"XXX-XXXXXXX\"、\"XXXX-XXXXXXXX\"、\"XXX-XXXXXXX\"、\"XXX-XXXXXXXX\"、\"XXXXXXX\"和\"XXXXXXXX)：^((d{3,4}-)|d{3.4}-)?d{7,8}$\n\n6. 国内电话号码(0511-4405222、021-87888822)：d{3}-d{8}|d{4}-d{7}\n\n7. 身份证号(15位、18位数字)：^d{15}|d{18}$\n\n8. 短身份证号码(数字、字母x结尾)：^([0-9]){7,18}(x|X)?$ 或 ^d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$\n\n9. 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$\n\n10. 密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：^[a-zA-Z]w{5,17}$\n\n11. 强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：^(?=.*d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$\n\n12. 日期格式：^d{4}-d{1,2}-d{1,2}\n\n13. 一年的12个月(01～09和1～12)：^(0?[1-9]|1[0-2])$\n\n14. 一个月的31天(01～09和1～31)：^((0?[1-9])|((1|2)[0-9])|30|31)$\n\n## 钱的输入格式：\n\n1. 有四种钱的表示形式我们可以接受:\"10000.00\" 和 \"10,000.00\", 和没有 \"分\" 的 \"10000\" 和 \"10,000\"：^[1-9][0-9]*$\n\n2. 这表示任意一个不以0开头的数字,但是,这也意味着一个字符\"0\"不通过,所以我们采用下面的形式：^(0|[1-9][0-9]*)$\n\n3. 一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：^(0|-?[1-9][0-9]*)$\n\n4. 这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：^[0-9]+(.[0-9]+)?$\n\n5. 必须说明的是,小数点后面至少应该有1位数,所以\"10.\"是不通过的,但是 \"10\" 和 \"10.2\" 是通过的：^[0-9]+(.[0-9]{2})?$\n\n6. 这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：^[0-9]+(.[0-9]{1,2})?$\n\n7. 这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：^[0-9]{1,3}(,[0-9]{3})*(.[0-9]{1,2})?$\n\n8. 1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选(\"+\"可以用\"*\"替代),而不是必须：^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(.[0-9]{1,2})?$\n\n9. xml文件：^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$\n\n10. 中文字符的正则表达式：[\\u4e00-\\u9fa5]\n\n11. 双字节字符：[^\\x00-\\xff] (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1))\n\n12. 空白行的正则表达式： s* (可以用来删除空白行)\n\n13. 简单的HTML标记的正则表达式：<(S*?)[^>]*>.*?</\u0001>|<.*? />\n\n14. 首尾空白字符的正则表达式：^s*|s*$或(^s*)|(s*$) (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)\n\n15. 腾讯QQ号：[1-9][0-9]{4,} (腾讯QQ号从10000开始)\n\n16. 中国邮政编码：[1-9]d{5}(?!d) (中国邮政编码为6位数字)\n\n17. IP地址：d+.d+.d+.d+ (提取IP地址时有用)\n\n18. IP地址：((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))\n\n\n> 扩展阅读：\n\n[正则表达式30分钟入门教程](http://www.cnblogs.com/deerchao/archive/2006/08/24/zhengzhe30fengzhongjiaocheng.html)\n\n[JS正则表达式完整教程](https://juejin.im/post/5965943ff265da6c30653879)\n\n[知道这20个正则表达式，能让你少写1,000行代码](https://www.jianshu.com/p/e7bb97218946)\n","lasttime":1546852654483}